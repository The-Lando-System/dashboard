<widget-container header="Quick List" widget-id="quick-list">
  <div ng-show="qlVm.loading">
    <img src="/assets/images/loading.gif" height="200" width="250">
  </div>
  <div ng-hide="qlVm.loading">
    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--3-col">
        <div ng-hide="qlVm.addingNewItem">
          <button ng-click="qlVm.addingNewItem = true;" type="button" class="mdl-button">Add</button>
        </div>
        <div ng-show="qlVm.addingNewItem">
          <button ng-click="qlVm.addNewItem(qlVm.description); qlVm.description = '';" type="button" class="mdl-button" >Save</button>
        </div>
      </div>
      <div class="mdl-cell mdl-cell--9-col">
        <div ng-show="qlVm.addingNewItem" class="input-group">
          <input id="add-item-id" type="text" class="form-control" ng-model="qlVm.description">
          <span ng-click="qlVm.addingNewItem = false; qlVm.description = '';" class="input-group-addon clickable">
            X
          </span>
        </div>
      </div>
    </div>


    <table class="quick-list-table mdl-data-table mdl-js-data-table mdl-shadow--2dp">
      <tbody>
        <tr ng-repeat="listItem in qlVm.listItems track by $index">
          <td ng-click="qlVm.editMode = true; qlVm.selectedItem.description = listItem.description; qlVm.selectedItem._id = listItem._id;" class="mdl-data-table__cell--non-numeric">
            <div ng-hide="qlVm.editMode && qlVm.selectedItem._id === listItem._id">
              {{listItem.description}}
            </div>
            <div ng-show="qlVm.editMode && qlVm.selectedItem._id === listItem._id">
              <input type="text" class="form-control" ng-model="qlVm.selectedItem.description">
            </div>
          </td>
          <td>
            <div ng-hide="qlVm.editMode && qlVm.selectedItem._id === listItem._id">
              <a ng-click="qlVm.deleteItem(listItem)" href="#"><i class="material-icons">delete</i></a>
            </div>
            <div ng-show="qlVm.editMode && qlVm.selectedItem._id === listItem._id">
              <a ng-click="qlVm.editMode = false; qlVm.selectedItem = {};" href="#"><i class="material-icons">done</i></a>
              <a ng-click="qlVm.editMode = false; qlVm.selectedItem = {};" href="#"><i class="material-icons">cancel</i></a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <quick-list-widget-settings/>
</widget-container>